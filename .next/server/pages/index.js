(()=>{var e={};e.id=332,e.ids=[220,332,636],e.modules={15:e=>{"use strict";e.exports=require("react")},237:(e,t)=>{"use strict";Object.defineProperty(t,"A",{enumerable:!0,get:function(){return s}});var s=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},338:(e,t,s)=>{"use strict";s.r(t),s.d(t,{config:()=>m,default:()=>g,getServerSideProps:()=>x,getStaticPaths:()=>h,getStaticProps:()=>v,reportWebVitals:()=>j,routeModule:()=>I,unstable_getServerProps:()=>M,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>b,unstable_getStaticPaths:()=>A,unstable_getStaticProps:()=>E});var r={};s.r(r),s.d(r,{default:()=>f,getServerSideProps:()=>S});var a=s(885),n=s(237),i=s(413),c=s(616),o=s.n(c),l=s(522),u=s(732),d=s(15),p=s(535),_=s.n(p);let P=({serverData:e})=>{let[t,s]=(0,d.useState)(e||null),[r,a]=(0,d.useState)(!e),n=process.env.NEXT_PUBLIC_MC_SERVER||"mc.neotec.uk";(0,d.useEffect)(()=>{if(!e){let e=async()=>{try{let e=await fetch(`https://api.mcsrvstat.us/2/${n}`),t=await e.json();s(t)}catch(e){console.error("API请求失败:",e)}finally{a(!1)}};e();let t=setInterval(e,6e4);return()=>clearInterval(t)}},[n,e]);let i=t||{},c=i.online||!1;return r?(0,u.jsx)("div",{className:_().loading,children:"加载中..."}):(0,u.jsxs)("div",{className:_().container,children:[(0,u.jsx)("h2",{children:"服务器状态"}),(0,u.jsxs)("div",{className:_().statusBox,children:[i.icon&&(0,u.jsx)("img",{src:i.icon,className:_().serverIcon,alt:"服务器图标",onError:e=>e.target.style.display="none"}),(0,u.jsx)("div",{className:`${_().statusIndicator} ${c?_().online:_().offline}`}),(0,u.jsxs)("div",{className:_().details,children:[(0,u.jsxs)("p",{children:["地址: ",(0,u.jsx)("span",{children:i.hostname||"-"})]}),(0,u.jsxs)("p",{children:["版本: ",(0,u.jsx)("span",{children:i.version||"-"})]}),(0,u.jsxs)("p",{children:["玩家: ",(0,u.jsx)("span",{children:i.players?`${i.players.online}/${i.players.max}`:"-"})]}),(0,u.jsxs)("p",{children:["描述: ",(0,u.jsx)("span",{children:i.motd?.clean?.join(" ")||"服务器当前离线"})]})]})]})]})};async function S(){try{let e=process.env.NEXT_PUBLIC_MC_SERVER||"mc.neotec.uk",t=await fetch(`https://api.mcsrvstat.us/2/${e}`);return{props:{serverData:await t.json()}}}catch(e){return{props:{serverData:null}}}}function f({serverData:e}){return(0,u.jsx)("div",{className:"root-container",children:(0,u.jsx)(P,{serverData:e})})}let g=(0,i.M)(r,"default"),v=(0,i.M)(r,"getStaticProps"),h=(0,i.M)(r,"getStaticPaths"),x=(0,i.M)(r,"getServerSideProps"),m=(0,i.M)(r,"config"),j=(0,i.M)(r,"reportWebVitals"),E=(0,i.M)(r,"unstable_getStaticProps"),A=(0,i.M)(r,"unstable_getStaticPaths"),b=(0,i.M)(r,"unstable_getStaticParams"),M=(0,i.M)(r,"unstable_getServerProps"),y=(0,i.M)(r,"unstable_getServerSideProps"),I=new a.PagesRouteModule({definition:{kind:n.A.PAGES,page:"/index",pathname:"/",bundlePath:"",filename:""},components:{App:l.default,Document:o()},userland:r})},361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},413:(e,t)=>{"use strict";Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,s){return s in t?t[s]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,s)):"function"==typeof t&&"default"===s?t:void 0}}})},522:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(732);function a({Component:e,pageProps:t}){return(0,r.jsx)(e,{...t})}s(768)},535:e=>{e.exports={container:"StatusWidget_container__fOzXO",statusBox:"StatusWidget_statusBox__7yc9w",statusIndicator:"StatusWidget_statusIndicator__w1Ip3",online:"StatusWidget_online__ESCiy",offline:"StatusWidget_offline__yB7Xt",loading:"StatusWidget_loading__9cl9e",details:"StatusWidget_details__8z0QX",serverIcon:"StatusWidget_serverIcon__Lpamf"}},732:e=>{"use strict";e.exports=require("react/jsx-runtime")},768:()=>{},873:e=>{"use strict";e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[616],()=>s(338));module.exports=r})();