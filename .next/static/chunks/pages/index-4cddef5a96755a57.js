(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{840:(e,s,t)=>{"use strict";t.r(s),t.d(s,{__N_SSP:()=>o,default:()=>d});var n=t(7876),a=t(4232),i=t(5374),l=t.n(i),r=t(5364);let c=e=>{var s,t;let{serverData:i}=e,[c,o]=(0,a.useState)(i||null),[d,_]=(0,a.useState)(!i),u=r.env.NEXT_PUBLIC_MC_SERVER||"mc.neotec.uk";(0,a.useEffect)(()=>{if(!i){let e=async()=>{try{let e=await fetch("https://api.mcsrvstat.us/2/".concat(u)),s=await e.json();o(s)}catch(e){console.error("API请求失败:",e)}finally{_(!1)}};e();let s=setInterval(e,6e4);return()=>clearInterval(s)}},[u,i]);let v=c||{},h=v.online||!1;return d?(0,n.jsx)("div",{className:l().loading,children:"加载中..."}):(0,n.jsxs)("div",{className:l().container,children:[(0,n.jsx)("h2",{children:"服务器状态"}),(0,n.jsxs)("div",{className:l().statusBox,children:[v.icon&&(0,n.jsx)("img",{src:v.icon,className:l().serverIcon,alt:"服务器图标",onError:e=>e.target.style.display="none"}),(0,n.jsx)("div",{className:"".concat(l().statusIndicator," ").concat(h?l().online:l().offline)}),(0,n.jsxs)("div",{className:l().details,children:[(0,n.jsxs)("p",{children:["地址: ",(0,n.jsx)("span",{children:v.hostname||"-"})]}),(0,n.jsxs)("p",{children:["版本: ",(0,n.jsx)("span",{children:v.version||"-"})]}),(0,n.jsxs)("p",{children:["玩家: ",(0,n.jsx)("span",{children:v.players?"".concat(v.players.online,"/").concat(v.players.max):"-"})]}),(0,n.jsxs)("p",{children:["描述: ",(0,n.jsx)("span",{children:(null===(t=v.motd)||void 0===t?void 0:null===(s=t.clean)||void 0===s?void 0:s.join(" "))||"服务器当前离线"})]})]})]})]})};var o=!0;function d(e){let{serverData:s}=e;return(0,n.jsx)("div",{className:"root-container",children:(0,n.jsx)(c,{serverData:s})})}},2936:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(840)}])},5374:e=>{e.exports={container:"StatusWidget_container__fOzXO",statusBox:"StatusWidget_statusBox__7yc9w",statusIndicator:"StatusWidget_statusIndicator__w1Ip3",online:"StatusWidget_online__ESCiy",offline:"StatusWidget_offline__yB7Xt",loading:"StatusWidget_loading__9cl9e",details:"StatusWidget_details__8z0QX",serverIcon:"StatusWidget_serverIcon__Lpamf"}}},e=>{var s=s=>e(e.s=s);e.O(0,[636,593,792],()=>s(2936)),_N_E=e.O()}]);